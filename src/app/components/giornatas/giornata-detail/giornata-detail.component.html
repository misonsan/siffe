<p>giornata-detail works!</p>


<!-- {{gior | json }}  -->

 {{giornata | json }}

<div class="container borde">

  <div class="header_Inqu" *ngIf="functionInqu">
    <caption class="title_Inqu  col-md-12">{{title}}</caption>
  </div>
  <div class="header_New" *ngIf="functionNew">
    <caption class="title_New  col-sm-12">{{title}}</caption>
  </div>
  <div class="header_Edit title_Edit" *ngIf="functionUser  ===  searchEdits   ||  functionUser  ===  searchEdit">

      <strong>{{title}}</strong>

  </div>
  <!--
  <div class="header_Edit" *ngIf="functionEdit || functionEdits">
    functionEdit: {{functionEdit}}&nbsp;&nbsp;functionEdits: {{functionEdits}}
    <caption class="title_Edit  col-md-12">{{title}}</caption>
  </div>  -->


<br>


  <div >
    <div class="col-md-auto">
      <form #fm ="ngForm"  method="POST">
        <input hidden #id="ngModel"  [(ngModel)]="giornata.id" class="form-control" name="id" id="id">
        <input hidden #key_utenti_operation="ngModel"  [(ngModel)]="giornata.key_utenti_operation" class="form-control" name="key_utenti_operation" id="key_utenti_operation">
        <!-- parte testata  disabled -->

        <div class="row">
          <label for="descManif" class="col-sm-2 col-form-label">Manifestazione</label>
          <div class=" col-md-6">
            <input disabled #descManif="ngModel"  [(ngModel)]="manif.descManif" class="form-control" name="descManif" id="descManif">
          </div>

        <div class=" col-md-4">
      <!--    <label for="descManif" class="col-sm-3 col-form-label">Stato</label><div class="col-sm-8">   -->
          <div>
            <input disabled #d_stato_manifestazione="ngModel"  [(ngModel)]="manif.d_stato_manifestazione" class="form-control" name="d_stato_manifestazione" id="d_stato_manifestazione" [style.color]="manif.stato == 2 ? 'red' : null">
          </div>
        </div>
      </div>

      <br>
      <!--  riga date inizio e finei  -->
      <div class="row">
        <label for="dtInizio" class="col-sm-2 col-form-label">Data Inizio</label>
        <div class=" col-md-2">
          <input  disabled [(ngModel)]="manif.dtInizio" [ngModel]="manif.dtInizio | date:'dd/MM/yyyy'" #dtInizio="ngModel" class="form-control"  name="dtInizio" id="dtInizio" >
        </div>
        <label for="dtFine" class="col-sm-2 col-form-label">Data Fine</label>
        <div class=" col-md-2">
          <input disabled [(ngModel)]="manif.dtFine"  [ngModel]="manif.dtFine | date:'dd/MM/yyyy'" #dtFine="ngModel" class="form-control"  name="dtFine" id="dtFine"  >
        </div>
    </div>
    <hr>
    <div class="row">
      <label for="dtGiornata" class="col-sm-2 col-form-label">Ultima Data Inserita</label>
      <div class=" col-md-2">
        <input readonly [(ngModel)]="gior.dtGiornata"  [ngModel]="gior.dtGiornata | date:'dd/MM/yyyy'" #dtGiornata="ngModel" class="form-control"  name="dtGiornata" id="dtGiornata"  >
      </div>
      <div class="input-group  col-md-4" *ngIf="foundLastday === false ">
        <!-- <input disabled [(ngModel)]="lastdata"  [ngModel]="lastdata | date:'dd/MM/yyyy'" #lastdata="ngModel" class="form-control"  name="lastdata" id="lastdata"  > -->
        {{neverDay}}
       </div>
     </div>
     <hr>
     <div class="row">
      <label for="dtGiornata1" class="col-sm-2 col-form-label">Giornata</label>
      <div class=" col-md-2">  <!-- input-group  -->
         <input type="date" [(ngModel)]="giornata.dtGiornata"  [ngModel]="giornata.dtGiornata | date:'dd/MM/yyyy'"  #dtGiornata1="ngModel" class="form-control"  name="dtGiornata1" id="dtGiornata1" required placeholder="dd/mm/yyyy" />{{giornata.dtGiornata}}
      </div>
     </div>
    <!--



        da personalizzare con il campo data




         <div class="form-row">
          <div class="mb-3 row margini">
            <label for="descManif" class="col-sm-2 col-form-label">Descrizione:</label>
            <div class="col-sm-5">
            <input type="text" #descManif="ngModel"  [(ngModel)]="manif.descManif" class="form-control" name="descManif" id="descManif" required minlength="4" maxlength="50" pattern="[0-9a-zA-Z\s]*" placeholder="Inserire Descrizione">
              <div *ngIf="descManif.invalid && (descManif.dirty || descManif.touched)" class="alert-danger">
                <div *ngIf="descManif.errors.required">
                    <span>la descrizione è obbligatoria</span>
                </div>
                <div *ngIf="descManif.errors.minlength">
                   <span>la descrizione deve essere di almeno 4 caratteri</span>
                </div>
                <div *ngIf="descManif.errors.maxlength">
                    <span>la descrizione non può essere più lunga di 50 caratteri</span>
                 </div>
              </div>
            </div>
          </div>
         </div>

        <div class="form-row">
        <div class="mb-3 row margini">
          <label for="buonoPastoCommanda" class="col-sm-2 col-form-label">Buono Pasto:</label>
          <div class="col-sm-2">
          <input NumbersOnly type="text" #buonoPastoCommanda="ngModel"  [(ngModel)]="manif.buonoPastoCommanda" class="form-control" name="buonoPastoCommanda" id="buonoPastoCommanda" pattern="^-?[0-9][0-9,\.]+$" placeholder="Inserire Buono Pasto">
          <div *ngIf="buonoPastoCommanda.invalid && (buonoPastoCommanda.dirty || buonoPastoCommanda.touched)" class="alert-danger">

              <div *ngIf="buonoPastoCommanda.errors.required">
                  <span>Inserire l'importo del buono pasto</span>
              </div>
              <div *ngIf="buonoPastoCommanda.errors?.pattern">
                  <span>il buono pasto non può essere negativo</span>
              </div>
            </div>
            </div>
          </div>
        </div>


        <div class="form-row">
      <div class="mb-3 row margini">
        <label for="impCoperto" class="col-sm-2 col-form-label">Coperto:</label>
        <div class="col-sm-2">
        <input #impCoperto="ngModel"  [(ngModel)]="manif.impCoperto" class="form-control" name="impCoperto" id="impCoperto" pattern="^-?[0-9][0-9,\.]+$" placeholder="Inserire Coperto">
            <div *ngIf="impCoperto.invalid && (impCoperto.dirty || impCoperto.touched)" class="alert-danger">
              <div *ngIf="impCoperto.errors.required">
                  <span>Inserire il coperto</span>
              </div>
              <div *ngIf="impCoperto.errors?.pattern">
                  solo valori posotivi
                </div>
             </div>
        </div>
      </div>
        </div>
-->



       <br>
       <div class="footer" >
            <div class="row col-sm-10 offset-2">
              <div class="col-sm-3" *ngIf="functionNew || functionEdit || functionEdits ">
                <button [disabled]="fm.invalid  || enabledDay === false" class="btn btn-success btn-md " (click)="conferma()">Conferma
                  <fa-icon [icon]="faSave"  fixed="true"></fa-icon>
                </button>
              </div>
              <div class="col-sm-3" *ngIf="functionNew || functionEdit || functionEdits ">
                <button [disabled]="fm.invalid || enabledDay === false" class="btn btn-primary btn-md " (click)="reset()">Reset
                  <fa-icon [icon]="faTimes"  fixed="true"></fa-icon>
                </button>
              </div>
              <div class="col-sm-3"  *ngIf="functionEdits ">
                <button [disabled]="fm.invalid || enabledDay === false" class="btn btn-danger btn-md "  (click)="open(content)"> Cancella
                  <fa-icon [icon]="faTrash"  fixed="true"></fa-icon>
                </button>
              </div>
              <div class="col-sm-3" >
                <button  class="btn btn-info btn-md "  (click)="goback()"> Ritorna
                  <fa-icon [icon]="faReply"  fixed="true"></fa-icon>
                </button>
              </div>
            </div>
       </div>
       <br>
  <!--   messaggio con esito operazione -->

       <div *ngIf="isVisible  && !alertSuccess" class="alert alert-danger" role="alert">
    <!--     <h4 class="alert-heading">Errore in Registrazione User</h4>   -->
         <p>{{Message}}</p>
         <hr>
         <p class="mb-0">{{Message1err}}</p>
       </div>
       <div *ngIf="isVisible  && alertSuccess" class="alert alert-success" role="alert">
  <!--       <h4 class="alert-heading">Registrazione User</h4>   -->
         <p>{{Message}}</p>
         <hr>
         <p class="mb-0"></p>
       </div>
      </form>
    </div>
  </div>
</div>

<ng-template #content let-modal>
  <div class="modal-header modal-header-color">
    <h4 class="modal-title" id="modal-basic-title">Conferma Cancellazione</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <p>confermi la cancellazione del collaboratore &nbsp;&nbsp;</p>
      <p></p>
      <p><strong>{{manif.cognome}}&nbsp;&nbsp;{{manif.nome}}</strong>&nbsp;?</p>
      <!--   esempio di calendario che funziona benissimo
      <div class="form-group">
        <label for="dateOfBirth">Date of birth</label>
        <div class="input-group">
          <input id="dateOfBirth" class="form-control" placeholder="yyyy-mm-dd" name="dp" ngbDatepicker #dp="ngbDatepicker">
          <div class="input-group-append">
            <button class="btn btn-outline-secondary calendar" (click)="dp.toggle()" type="button"></button>
          </div>
        </div>
      </div>
      -->
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="modal.close('Cancel click')">Cancel</button>

    <button type="button" class="btn btn-danger btn-md " (click)="modal.close('Delete click')"> Cancella
      <fa-icon [icon]="faTrash"  fixed="true"></fa-icon>
    </button>
  </div>
</ng-template>


